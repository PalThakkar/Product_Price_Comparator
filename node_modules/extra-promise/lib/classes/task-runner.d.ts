import { Awaitable } from 'justypes';
import { CustomError } from '@blackglory/errors';
export declare class TaskRunnerDestroyedError extends CustomError {
}
export declare class TaskRunner {
    private concurrency;
    private rateLimit?;
    private fsm;
    private queue;
    private runningTasks;
    private window?;
    private scheduleController?;
    constructor(concurrency?: number, rateLimit?: {
        duration: number;
        limit: number;
    } | undefined);
    /**
     * @throws {TaskRunnerDestroyedError}
     */
    run<T>(fn: (signal: AbortSignal) => Awaitable<T>, signal?: AbortSignal): Promise<T>;
    destroy(): void;
    private schedule;
    /**
     * @throws {AbortError}
     */
    private waitForNextWindow;
    private process;
}
