import { remap } from './remap.js';
import { remapToIndex } from './remap-to-index.js';
export function remapToWeightedIndex(value, range, weights) {
    const newRangeMax = weights.reduce((acc, cur) => acc + Math.max(cur, 0));
    if (newRangeMax === 0) {
        return remapToIndex(value, range, weights);
    }
    else {
        const newValue = remap(value, range, [0, newRangeMax]);
        let remains = newRangeMax;
        for (let i = weights.length; i--;) {
            const weight = weights[i];
            if (weight <= 0) {
                continue;
            }
            else {
                remains -= weight;
                if (newValue >= remains)
                    return i;
            }
        }
        return 0;
    }
}
//# sourceMappingURL=remap-to-weighted-index.js.map