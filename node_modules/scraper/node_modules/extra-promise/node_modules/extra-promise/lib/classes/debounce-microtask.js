export class DebounceMicrotask {
    constructor() {
        this.registry = new Set();
        this.queued = false;
        this.tick = () => {
            const registry = this.registry;
            this.queued = false;
            this.registry = new Set();
            for (const fn of registry) {
                fn();
            }
        };
    }
    queue(fn) {
        this.registry.add(fn);
        if (!this.queued) {
            this.queued = true;
            queueMicrotask(this.tick);
        }
    }
    cancel(fn) {
        this.registry.delete(fn);
    }
}
//# sourceMappingURL=debounce-microtask.js.map