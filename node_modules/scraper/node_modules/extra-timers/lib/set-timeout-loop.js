"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setTimeoutLoop = void 0;
const set_timeout_1 = require("./set-timeout");
function setTimeoutLoop(timeout, cb) {
    let isCancelled = false;
    let cancel = (0, set_timeout_1.setTimeout)(timeout, loop);
    return () => {
        isCancelled = true;
        cancel();
    };
    async function loop() {
        await cb();
        if (!isCancelled) {
            cancel = (0, set_timeout_1.setTimeout)(timeout, loop);
        }
    }
}
exports.setTimeoutLoop = setTimeoutLoop;
//# sourceMappingURL=set-timeout-loop.js.map