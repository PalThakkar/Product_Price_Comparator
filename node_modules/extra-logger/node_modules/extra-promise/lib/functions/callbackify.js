import { go } from '@blackglory/go';
export function callbackify(fn) {
    return function (...args) {
        const realArgs = args.slice(0, -1);
        const cb = args[args.length - 1];
        go(async () => {
            try {
                const result = await Reflect.apply(fn, this, realArgs);
                cb(null, result);
            }
            catch (e) {
                cb(e);
            }
        });
    };
}
//# sourceMappingURL=callbackify.js.map