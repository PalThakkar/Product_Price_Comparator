import { performanceNow } from 'extra-compatible';
import { getElapsedTime } from "./utils/get-elapsed-time.js";
import { isPromiseLike } from 'extra-promise';
export function time(message, fn) {
    const startTime = performanceNow();
    const result = fn();
    if (isPromiseLike(result)) {
        return result.then(() => {
            const endTime = performanceNow();
            console.log(message, getElapsedTime(startTime, endTime));
            return result;
        });
    }
    else {
        const endTime = performanceNow();
        console.log(message, getElapsedTime(startTime, endTime));
        return result;
    }
}
//# sourceMappingURL=time.js.map