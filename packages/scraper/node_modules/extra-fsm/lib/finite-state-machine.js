import { BadEventError } from './errors.js';
export class FiniteStateMachine {
    constructor(schema, initialState) {
        this.schema = schema;
        this._state = initialState;
    }
    get [Symbol.toStringTag]() {
        return this.constructor.name;
    }
    get state() {
        return this._state;
    }
    matches(state) {
        return this._state === state;
    }
    can(event) {
        return event in this.schema[this.state];
    }
    send(event) {
        if (this.can(event)) {
            this._state = this.schema[this.state][event];
        }
        else {
            throw new BadEventError(this.state, event);
        }
    }
}
//# sourceMappingURL=finite-state-machine.js.map