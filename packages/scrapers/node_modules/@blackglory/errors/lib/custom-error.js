import { getErrorNames } from './get-error-names.js';
import { isError } from './is-error.js';
import { isSerializableError } from './serializable-error.js';
import { first, toArray } from './utils.js';
export class CustomError extends Error {
    get name() {
        var _a, _b;
        return (_b = (_a = first(getErrorNames(this))) !== null && _a !== void 0 ? _a : CustomError.name) !== null && _b !== void 0 ? _b : 'CustomError';
    }
    static [Symbol.hasInstance](instance) {
        var _a;
        if (isError(instance) || isSerializableError(instance)) {
            const reversedClassNames = [
                (_a = this.prototype.constructor.name) !== null && _a !== void 0 ? _a : this.name,
                ...getErrorNames(this.prototype)
            ].reverse();
            const reversedInstanceNames = toArray(getErrorNames(instance)).reverse();
            return reversedClassNames.every((x, i) => x === reversedInstanceNames[i]);
        }
        else {
            return false;
        }
    }
}
//# sourceMappingURL=custom-error.js.map